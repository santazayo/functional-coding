38페이지 문제

- A: 액션
- C: 계산
- D: 데이터


1. 이메일 보내기 A
2. db에서 구독자 가져오기 A
3. db에서 구독자 가져오기 A
4. 정책에 따른 비즈니스 코드 작성 C
5. 쿠폰에 등급 매기기 C
6. 이메일 템플릿 작성 D
7. 언제 보낼건 지 정의(ex 자정) C
8. 이메일 수집 A
9. 추천 수 수집 A

쿠폰 보내는 과정을 그려보기

ex) 쿠폰 및 구독자 데이터 스키마
```typescript
interface Coupon {
    code: string;
    grade: number;
}
```
    
```typescript
interface Subscriber {
    email: string;
    recCount: number;
}
```


1. 정책에 따른 비즈니스 코드 작성 C
2. db에서 구독자 가져오기(recCount 최소값 이상으로만) A
   - 책에서는 일단 전부 가져와서 수행
   - 함수형에서는 일반적으로 액션을 사용하지 않으려고 합니다. 그리고 계산으로 바꾸는 것이 좋다고 생각합니다.
   - 그리고 이렇게 하면 db에서 수행하는 일이 2가지가 되어버린다.
3. db에서 쿠폰 목록 불러오기 D
4. 구독자의 recCount에 따라 쿠폰 등급 매기기 C
5. 보내야할 이메일 목록 작성 D
6. 이메일 템플릿 작성 D
7. 언제 보낼건 지 정의(ex 자정) C
8. 이메일 전송하기 A
